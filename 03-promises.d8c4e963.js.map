{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SA8BA,SAASC,EAAcC,EAAUC,GAkBjC,OAjBgB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEhCC,EAAY,C,SAChBR,E,MACAC,GAGFQ,YAAW,KACLJ,EAEqCF,EAA/BK,GAGRJ,EAAOI,EAAU,GACfP,EAAM,G,CA5CDS,SAASC,cAAc,SAE/BC,iBAAiB,UAAWC,IAC/BA,EAAMC,iBAEmC,MAAnCC,EAAaL,SAASM,kBAAkB,SAAS,GACjDC,EAAYP,SAASM,kBAAkB,QAAQ,GAC/CE,EAAcR,SAASM,kBAAkB,UAAU,GAEzD,IAAK,IAAIG,EAAI,EAAGA,EAAIC,OAAOF,EAAYG,OAAQF,IAAK,CACnCpB,EAAcoB,EAAI,EAAGC,OAAOL,EAAWM,OAASD,OAAOH,EAAUI,OAASF,GAGlCG,MAAnD,EAACtB,SAAEA,EAAQC,MAAEA,MACnBsB,QAAQC,IAAI,uBAAqBxB,QAAiBC,OAClDwB,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAqB3B,QAAiBC,MAAU,IAEvE2B,OAAM,EAAC5B,SAAEA,EAAQC,MAAEA,MACpBsB,QAAQC,IAAI,sBAAoBxB,QAAiBC,OACjDwB,EAAA5B,GAAS6B,OAAOG,QAAQ,sBAAoB7B,QAAiBC,MAAU,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', (event) => { //Вішаємо слухача на форму, який буде реагувати на submit.\n  event.preventDefault(); // Одразу перериваємо дефолтну поведінку сабміту.\n\n  const delayInput = document.getElementsByName('delay')[0]; // Витягуємо з розмітки інпути в змінні для роботи з їх значеннями в майбутньому.\n  const stepInput = document.getElementsByName('step')[0];\n  const amountInput = document.getElementsByName('amount')[0];\n  \n  for (let i = 0; i < Number(amountInput.value); i++) { // Через цикл будемо щоразу викликати функцію createPromise, а відповідно щоразу будемо створювати і отримувати проміс.\n  const promise =  createPromise(i + 1, Number(delayInput.value) + Number(stepInput.value) * i); // Виклик функції передаємо в змінну. Аргументами функції будуть введені значення отримані з інпутів.\n\n  promise // Далі обробка резултату виклику функції (тобто отриманого промісу)\n  .then(({ position, delay }) => { // Якщо все ок, тоді виводимо в консоль номер промісу та його затримку.\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => { // Якщо не ок, тоді теж виводимо в консоль номер промісу та його затримку. \n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  })\n  \n    }\n})\n\n\n\n\nfunction createPromise(position, delay) { // Генератор промісів\nconst promise = new Promise((resolve, reject) => { // Створюємо проміс через клас і задаємо успішне виконання промісу, або ж ні.\n  const shouldResolve = Math.random() > 0.3; // Генератор випадкового числа з умовою.\n\n  const newObject = { // Створюємо допоміжний об`єкт, який будемо передавати як результат виконання. (можна передавати його властивості на пряму, але нехай буле так)\n    position,\n    delay\n  }\n\n  setTimeout(() => { // Робимо затримку СетТаймаут (Час затримки вкаже юзер в delay)\n    if (shouldResolve) {  // Далі умова, якщо згенероване число за визначеною > 0.3, тоді \n       // Fulfill         // успішне виконання проміму, а якщо менше тоді - ні.\n      resolve(newObject);\n    } else {   \n       // Reject\n      reject(newObject);\n    }}, delay)\n})\nreturn promise; // *Повертаємо отриманий проміс.\n}\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","newObject","setTimeout","document","querySelector","addEventListener","event","preventDefault","delayInput","getElementsByName","stepInput","amountInput","i","Number","value","then","console","log","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.d8c4e963.js.map"}